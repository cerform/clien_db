#!/bin/bash
# Скрипт для инициализации проекта

echo "==================================="
echo "Инициализация проекта"
echo "==================================="
echo ""

# Создаем виртуальное окружение
if [ ! -d "venv" ]; then
    echo "Создаю виртуальное окружение..."
    python3 -m venv venv
    if [ $? -ne 0 ]; then
        echo "Ошибка: Не удалось создать виртуальное окружение"
        exit 1
    fi
    echo "✓ Виртуальное окружение создано"
fi

# Активируем виртуальное окружение
echo "Активирую виртуальное окружение..."
source venv/bin/activate

# Устанавливаем зависимости
echo ""
echo "Устанавливаю зависимости..."
pip install --upgrade pip
pip install -r requirements.txt

if [ $? -ne 0 ]; then
    echo "Ошибка: Не удалось установить зависимости"
    exit 1
fi

echo ""
echo "✓ Проект инициализирован успешно!"
echo ""
echo "Следующие шаги:"
echo "1. Запустите: python src/main.py"
echo "2. Выполните конфигурацию через интерактивное меню"
echo "3. Инициализируйте БД: python init_db.py"
echo "4. Снова запустите бота: python src/main.py"
echo ""
