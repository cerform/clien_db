# Pull Request: Admin Panel & INKA LLM System

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∞—è –ø–∞–Ω–µ–ª—å –∏ —Ç—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è LLM —Å–∏—Å—Ç–µ–º–∞ INKA –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞—Ç—É-—Å–∞–ª–æ–Ω–æ–º —á–µ—Ä–µ–∑ Telegram –±–æ—Ç.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ü§ñ INKA - –¢—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è LLM –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**S1 - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä (JSON)**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏ –º–∞—Ä—à—Ä—É—Ç
- –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: `{route, stage, booking_type, intent_summary}`

**S2 - Booking Engine (TEXT)**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø–∏—Å–∏
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Å–ª–æ—Ç–∞

**S3 - Post-Booking (TEXT)**
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### ‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∞—è –ø–∞–Ω–µ–ª—å

#### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ (–∏–º—è, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –∏—Å—Ç–æ—Ä–∏—è)
- –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

#### üë®‚Äçüíº –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏
- –°–ø–∏—Å–æ–∫ –º–∞—Å—Ç–µ—Ä–æ–≤ —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º–∏
- –ü—Ä–æ—Ñ–∏–ª—å —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∏ –æ–ø—ã—Ç–æ–º
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

#### üíá –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏
- –ö–∞—Ç–∞–ª–æ–≥ –≤—Å–µ—Ö —É—Å–ª—É–≥
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —É—Å–ª—É–≥
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω –∏ –æ–ø–∏—Å–∞–Ω–∏—è

#### üìÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- –ó–∞–ø–∏—Å–∏ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏
- –ë—ã—Å—Ç—Ä–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

#### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤, –º–∞—Å—Ç–µ—Ä–æ–≤, —É—Å–ª—É–≥
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø–∏—Å–µ–π
- –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–æ—Ö–æ–¥)
- –°—Ä–µ–¥–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏

#### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- –ö–æ–Ω—Ç–∞–∫—Ç—ã —Å–∞–ª–æ–Ω–∞
- –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
- –í–∞–ª—é—Ç–∞ –ø–ª–∞—Ç–µ–∂–µ–π

### üéØ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–ù–æ–≤—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:**
- `get_masters_keyboard()` - –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–∞—Å—Ç–µ—Ä–∞
- `get_procedures_keyboard()` - –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥–∏
- `get_slots_keyboard()` - –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç –∏ –≤—Ä–µ–º–µ–Ω–∏

**–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å–∏:**
1. –ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –º–∞—Å—Ç–µ—Ä–∞ (–∫–Ω–æ–ø–∫–∞)
2. –í—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä—É (–∫–Ω–æ–ø–∫–∞ —Å —Ü–µ–Ω–æ–π)
3. –í—ã–±–∏—Ä–∞–µ—Ç –¥–∞—Ç—É (–∫–Ω–æ–ø–∫–∞)
4. –í—ã–±–∏—Ä–∞–µ—Ç –≤—Ä–µ–º—è (–∫–Ω–æ–ø–∫–∞)
5. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å

## üìÅ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

```
src/ai/inka.py                    # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å INKA (S1, S2, S3)
src/bot/handlers/admin_panel.py   # –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
src/services/procedure_service.py # –°–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥–∞–º–∏
INKA_GUIDE.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è INKA —Å–∏—Å—Ç–µ–º—ã
ADMIN_PANEL_GUIDE.md              # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
```

## üîß –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
src/bot/handlers/client_handler.py   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è INKA S1, S2, S3
src/bot/handlers/start_handler.py    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–¥–º–∏–Ω –º–µ–Ω—é
src/bot/keyboards/__init__.py        # –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
src/config/config.py                 # –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ OPENAI_API_KEY
src/main.py                          # –ó–∞–≥—Ä—É–∑–∫–∞ admin_panel.py —Ä–æ—É—Ç–µ—Ä–∞
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –£–¥–∞–ª–µ–Ω `credentials.json` –∏–∑ git (–¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore)
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ `ADMIN_IDS`
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º Google Sheets

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **35 —Ñ–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**
- **5756 —Å—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ**
- **27 —Å—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ**
- **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: 134 –∫–æ–º–º–∏—Ç–∞ –æ–±—ä–µ–∫—Ç–∞**

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### INKA_GUIDE.md
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã S1 ‚Üí S2 ‚Üí S3
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ
- –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Flow-–¥–∏–∞–≥—Ä–∞–º–º–∞

### ADMIN_PANEL_GUIDE.md
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–∏–º–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π
- –°–æ–≤–µ—Ç—ã –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à ID –≤ `ADMIN_IDS`:
   ```env
   ADMIN_IDS=438407739
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `/start`

3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"

4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–µ–Ω—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. –ù–∞–∂–º–∏—Ç–µ "üìÖ –ó–∞–ø–∏—Å–∞—Ç—å –Ω–∞ –ø—Ä–∏–µ–º"

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞:
   - –ú–∞—Å—Ç–µ—Ä–∞
   - –£—Å–ª—É–≥–∏
   - –î–∞—Ç—ã
   - –í—Ä–µ–º–µ–Ω–∏

3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–ø–∏—Å—å

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å:
- Google Sheets API (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
- OpenAI API (INKA LLM)
- Telegram Bot API (aiogram)

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

- [x] INKA S1 –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä (JSON)
- [x] INKA S2 booking engine (TEXT)
- [x] INKA S3 post-booking (TEXT)
- [x] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏
- [x] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] –ò—Å–∫–ª—é—á–µ–Ω—ã credentials.json –∏–∑ git
- [x] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ª–∏—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±—Ä–∞–Ω—á

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —ç—Ç–æ–º—É PR –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É.

---

**–ë—Ä–∞–Ω—á:** `feature/admin-panel-inka-system`  
**–î–∞—Ç–∞:** 03 Dec 2025  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –º–µ—Ä–¥–∂—É
